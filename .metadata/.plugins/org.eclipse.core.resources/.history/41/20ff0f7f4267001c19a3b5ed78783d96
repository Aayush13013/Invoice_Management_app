<%@ page language="java" contentType="text/html; charset=ISO-8859-1"
	pageEncoding="ISO-8859-1"%>
<%@ taglib prefix="form" uri="http://www.springframework.org/tags/form"%>

<%@ taglib prefix="c" uri="http://java.sun.com/jsp/jstl/core"%>

<!doctype html>
<html lang="en" xmlns:th="http://www.thymeleaf.org">
<head>
<meta charset="UTF-8">
<meta name="viewport"
	content="width=device-width, user-scalable=no, initial-scale=1.0, maximum-scale=1.0, minimum-scale=1.0">
<meta http-equiv="X-UA-Compatible" content="ie=edge">
<title>Invoice Info List</title>
<link
	href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/css/bootstrap.min.css"
	rel="stylesheet"
	integrity="sha384-EVSTQN3/azprG1Anm3QDgpJLIm9Nao0Yz1ztcQTwFspd3yD65VohhpuuCOmLASjC"
	crossorigin="anonymous">
</head>
<body>
	<div class="container my-2">
		<h1>Invoice Info List</h1>
		<a href="http://localhost:9191/openNewInvoiceInfoForm"
			class="btn btn-primary btn-sm mb-3">Add Invoice</a>
		<table border="1" class="table table-striped table-responsive-md">
			<thead>
				<tr>
					<th>S.No.</th>
					<th>Invoice No.</th>
					<th>Bill To</th>
					<th>Invoice Date</th>
					<th>Due Date</th>
					<th>Status</th>
					<th>Amount</th>
					<th>Action</th>
				</tr>
			</thead>

			<tbody>
				<c:forEach var="invoiceInfo" items="${InvoiceInfoList}">
					<tr>
						<td>${invoiceInfo.id}</td>
						<td>${invoiceInfo.invoiceNo}</td>
						<td>${invoiceInfo.billTo}</td>
						<td>${invoiceInfo.invoiceDate}</td>
						<td>${invoiceInfo.dueDate}</td>
						<td>${invoiceInfo.status}</td>
						<td>${invoiceInfo.grandTotal}</td>

						<td><a
							href="http://localhost:9191/editInvoiceForm/${invoiceInfo.id}"
							class="btn btn-primary">Edit</a> <a
							href="http://localhost:9191/deleteInvoiceByid/${invoiceInfo.id}"
							class="btn btn-danger">Delete</a></td>
					</tr>
				</c:forEach>
			</tbody>
		</table>
		<div id="pagination">

			<c:url value="/list" var="prev">
				<c:param name="page" value="${page-1}" />
			</c:url>
			<c:if test="${page > 1}">
				<a href="<c:out value="${prev}" />" class="pn prev">Prev</a>
			</c:if>

			<c:forEach begin="1" end="${maxPages}" step="1" varStatus="i">
				<c:choose>
					<c:when test="${page == i.index}">
						<span>${i.index}</span>
					</c:when>
					<c:otherwise>
						<c:url value="/list" var="url">
							<c:param name="page" value="${i.index}" />
						</c:url>
						<a href='<c:out value="${url}" />'>${i.index}</a>
					</c:otherwise>
				</c:choose>
			</c:forEach>
			<c:url value="/list" var="next">
				<c:param name="page" value="${page + 1}" />
			</c:url>
			<c:if test="${page + 1 <= maxPages}">
				<a href='<c:out value="${next}" />' class="pn next">Next</a>
			</c:if>
		</div>

		<%--  <c:if test="${data.size() > 0 }">
        
        	<div class="row col-sm-10">
        		<div class="col-sm-2">
        			Total Rows:${totalItems }
        		</div>
        		<div class= "col-sm-1">
        			<c:forEach begin="0" end="${totalPages-1}" var="page">
        				<a href="/page/${page }"></a>
        			</c:forEach>
        		</div>
        	
        	</div>
        
        
        </c:if> --%>

	</div>
</body>
</html>