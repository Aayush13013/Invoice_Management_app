<%@ page language="java" contentType="text/html; charset=ISO-8859-1"
    pageEncoding="ISO-8859-1"%>
    <%@ taglib prefix="form" uri="http://www.springframework.org/tags/form"%>
	<%@ taglib prefix="c" uri="http://java.sun.com/jsp/jstl/core"%>
	
	
	<!DOCTYPE html>
<html>

<head>
    <meta charset="ISO-8859-1">
    <title>Add New Invoice</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/css/bootstrap.min.css" rel="stylesheet"
        integrity="sha384-EVSTQN3/azprG1Anm3QDgpJLIm9Nao0Yz1ztcQTwFspd3yD65VohhpuuCOmLASjC" crossorigin="anonymous">

</head>

<body>
    <script>
        function addRows(id) {
            var table = document.getElementById(id);
            var array=["Computer","Mobile","PenDrive","Mouse"];

            var rowCount = table.rows.length;
            var row = table.insertRow(rowCount);
            var counts = rowCount-1;


            var cell0 = row.insertCell(0);
            cell0.innerHTML = rowCount ;
          

            var cell1 = row.insertCell(1);
            var element1 = document.createElement("select");
            element1.name="listOfProducts["+counts+"].productName";
            for(var i=0; i<array.length;i++){
            	var option = document.createElement("option");
            	option.value=array[i];
            	o
            }
            cell1.appendChild(element1);
            

            var cell2 = row.insertCell(2);
            var element2 = document.createElement("textarea");
            element2.type = "text";
            element2.name="listOfProducts["+counts+"].description";
            cell2.appendChild(element2);

            var cell3 = row.insertCell(3);
            var element3 = document.createElement("input");
            element3.type = "number";
            element3.name="listOfProducts["+counts+"].price";
            cell3.appendChild(element3);

            var cell4 = row.insertCell(4);
            var element4 = document.createElement("input");
            element4.type = "number";
            element4.name="listOfProducts["+counts+"].qty";
            cell4.appendChild(element4);

            var cell5 = row.insertCell(5);
            var element5 = document.createElement("input");
            element5.type = "number";
            element5.name="listOfProducts["+counts+"].taxPercent";
            cell5.appendChild(element5);

            var cell6 = row.insertCell(6);
            var element6 = document.createElement("input");
            element6.type = "number";
            element6.name="listOfProducts["+counts+"].total";
            cell6.appendChild(element6);
        }
    </script>


    <h2>Add New Invoice</h2><br>
  


    <form:form action="/saveInvoice" modelAttribute="invoiceInfo" method="POST">
        <form:hidden path="id" placeholder="id" class="form-control mb-4 col-4" />

        <form:input type="text" path="invoiceNo" placeholder="invoiceNo" class="form-control mb-4 col-4" />

        <form:select path="billTo"  class="form-control mb-4 col-4" required="required">
        	<optgroup label="Select_Customer">
	        	<form:option value="Aayush"></form:option>
	        	<form:option value="Shridhar"></form:option>
	        	<form:option value="Suneel"></form:option>
	        	<form:option value="Lekhana"></form:option>
        	</optgroup>
        </form:select>

        <form:select  path="status" class="form-control mb-4 col-4" >
	        <optgroup label="Select_Status">
	        	<form:option value="Draft"></form:option>
	        	<form:option value="Sent"></form:option>
	        	<form:option value="Paid"></form:option>
        	</optgroup>
        </form:select>

        <form:input type="date" path="invoiceDate" placeholder="invoiceDate" class="form-control mb-4 col-4" />

        <form:input type="date" path="dueDate" placeholder="dueDate" class="form-control mb-4 col-4" />

        <table id="myTable"  border="1">
            <thead>
                <tr>
                    <th>SNo</th>
                    <th>Product</th>
                    <th>Description</th>
                    <th>Price</th>
                    <th>Qty</th>
                    <th>Tax%</th>
                    <th>Total</th>
                </tr>
                 
            </thead>
            
        </table>
        <input type="button" value="Add row" onclick="addRows('myTable')" />
        <input type="submit" value="save" />
    </form:form>
</body>

</html>
