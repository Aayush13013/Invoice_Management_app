<%@ page language="java" contentType="text/html; charset=ISO-8859-1"
	pageEncoding="ISO-8859-1"%>
<%@ taglib prefix="form" uri="http://www.springframework.org/tags/form"%>
<%@ taglib prefix="c" uri="http://java.sun.com/jsp/jstl/core"%>


<!DOCTYPE html>
<html>

<head>
<meta charset="ISO-8859-1">
<title>Add New Invoice</title>

<link rel="stylesheet"
	href="https://maxcdn.bootstrapcdn.com/bootstrap/3.4.1/css/bootstrap.min.css">



</head>

<body>
	<script>
	 function addRows() {
         var table = document.getElementById("myTable");
         var counts = (table.rows.length) - 1;
         console.log(counts);
         var row = table.insertRow(table_len).outerHTML = "<tr id='row" + table_len + "'> " +

             "<td id='auto_id" + table_len + "'><input type='text' name='auto_id" + table_len + "' class='form-control' '></td> " +
             "<td id='product" + table_len + "'><input type='text'   name='product" + table_len + "' class='form-control' ></td> " +
             "<td id='description" + table_len + "'><input type='text'  name='description" + table_len + "' class='form-control' ></td> " +
             "<td id='price" + table_len + "' ><input type='text'  name='price" + table_len + "' class='form-control' ></td> " +
             "<td id='qty" + table_len + "' ><input type='text'  name='qty" + table_len + "' class='form-control' ></td> " +
             "<td id='tax" + table_len + "' ><input type='text'  name='tax" + table_len + "' id='taxval" + table_len + "' class='form-control' ></td> " +
             "<td id='total" + table_len + "' ><input type='text'  name='total" + table_len + "' id='totval" + table_len + "' class='form-control' ></td> " +

             "<td><i class='fa fa-trash' style='font-size:24px' onclick='delete_row3(" + table_len + ")'> </i></td> " +
             "</tr>";
     }
		/* function addRows(id) {
			var table = document.getElementById(id);
			var array = [ "Computer", "Mobile", "PenDrive", "Mouse" ];

			var rowCount = table.rows.length;
			var row = table.insertRow(rowCount);
			var counts = rowCount - 1;

			var cell0 = row.insertCell(0);
			cell0.innerHTML = rowCount + 1;

			var cell1 = row.insertCell(1);
			var element1 = document.createElement("select");
			element1.name = "listOfProducts[" + counts + "].productName";
			for (var i = 0; i < array.length; i++) {
				var option = document.createElement("option");
				option.value = array[i];
				option.text = array[i];
				element1.appendChild(option);
			}
			element1.required = "required";
			cell1.appendChild(element1);

			var cell2 = row.insertCell(2);
			var element2 = document.createElement("textarea");
			element2.type = "text";
			element2.name = "listOfProducts[" + counts + "].description";
			element2.required = "required";
			cell2.appendChild(element2);

			var cell3 = row.insertCell(3);
			var element3 = document.createElement("input");
			element3.type = "number";
			element3.name = "listOfProducts[" + counts + "].price";
			element3.required = "required";
			cell3.appendChild(element3);

			var cell4 = row.insertCell(4);
			var element4 = document.createElement("input");
			element4.type = "number";
			element4.name = "listOfProducts[" + counts + "].qty";
			element4.required = "required";
			cell4.appendChild(element4);

			var cell5 = row.insertCell(5);
			var element5 = document.createElement("input");
			element5.type = "number";
			element5.name = "listOfProducts[" + counts + "].taxPercent";
			element5.required = "required";
			cell5.appendChild(element5);

			var cell6 = row.insertCell(6);
			var element6 = document.createElement("input");
			element6.type = "number";
			element6.name = "listOfProducts[" + counts + "].total";
			element6.required = "required";
			cell6.appendChild(element6);

			var cell7 = row.insertCell(7);
			var element7 = document.createElement("input");
			element7.type = "button";
			element7.value = "Delete Row";
			element7.onclick = deleteRows('myTable');
			cell7.appendChild(element7);

		} */
	</script>
	<div class="container">

		<h2>Add New Invoice</h2>
		<br>



		<form:form action="/saveInvoice" modelAttribute="invoiceInfo"
			method="POST">
			<form:hidden path="id" placeholder="id" class="form-control " />
			<div class="form-row">
				<div class="form-group col-md-2">
					<label>Invoice No*</label>
				</div>
				<div class="form-group col-md-4">
					<form:input type="text" path="invoiceNo" placeholder="invoiceNo"
						required="required" class="form-control" />
				</div>
				<div class="form-group col-md-2">
					<label>Invoice Date*</label>

				</div>
				<div class="form-group col-md-4">
					<form:input type="date" path="invoiceDate"
						placeholder="invoiceDate" class="form-control " />
				</div>
			</div>
			<div class="form-row">
				<div class="form-group col-md-2">
					<label>Bill To*</label>

				</div>
				<div class="form-group col-md-4">
					<form:select path="billTo" class="form-control" required="required">
						<optgroup label="Select_Customer">
							<form:option value="Aayush"></form:option>
							<form:option value="Shridhar"></form:option>
							<form:option value="Suneel"></form:option>
							<form:option value="Lekhana"></form:option>
						</optgroup>
					</form:select>
				</div>
				<div class="form-group col-md-2">
					<label>Due Date*</label>

				</div>

				<div class="form-group col-md-4">
					<form:input type="date" path="dueDate" placeholder="dueDate"
						class="form-control " />
				</div>
			</div>
			<div class="form-row">
				<div class="form-group col-md-2">
					<label>Status*</label>

				</div>
				<div class="form-group col-md-4">
					<form:select path="status" class="form-control">
						<optgroup label="Select_Status">
							<form:option value="Draft"></form:option>
							<form:option value="Sent"></form:option>
							<form:option value="Paid"></form:option>
						</optgroup>
					</form:select>
				</div>
				<div class="form-group col-md-2">
					<label hidden>** :</label>
				</div>
				<div class="form-group col-md-4">
					<input type="text" class="form-control" style="visibility: hidden;">
				</div>
			</div>


			<div class="form-row">
				<h2>Invoice Details</h2>

				<table class="table table-bordered">
					<thead>
						<tr>
							<th>SNo</th>
							<th>Product*</th>
							<th>Description*</th>
							<th>Price*</th>
							<th>Qty*</th>
							<th>Tax%</th>
							<th>Total</th>
							<th><input type="button" value="Add row"
								class="btn btn-primary" onclick="addRows('myTable')" /></th>
						</tr>

					</thead>
					<tbody id="myTable">

					</tbody>
					<tr>
						<td colspan="6" rowspan="2">
							<div class="form-group  col-md-2">
								<label>Invoice Note(Optional) :</label>
							</div>
							<div class="form-group   col-md-6">
								<textarea class="form-control rounded-0" name="invoiceNote"
									id="invoiceNote" rows="3" maxlength="1000"
									placeholder="Invoice Note"></textarea>
							</div>
						</td>
						<td>Sub Total :</td>
						<td><span path="subTotal" name="subTotal" id="subTotal">0</span></td>
					</tr>
					<tr>
						<td>Total Tax :</td>
						<td><span path="totalTax" name="totalTax" id="totalTax">0</span></td>
					</tr>
					<tr>
						<td colspan="6" style="border-top: hidden">
							<div class="form-group  col-md-2">
								<label>Attachment (Optional) :</label>
							</div>
							<div class="form-group col-md-4">
								<input type="file" name="file" path="file"
									placeholder="Attachment" id="file" class="form-control">
							</div>
						</td>
						<td>Grand Total:</td>
						<td><input type="text" path="grandTotal" name="grandTotal"
							id="grandTotal" class="form-control col-4 mb-4" /></td>
					</tr>

				</table>
			</div>

			<input type="submit" value="save" class="btn btn-success" />
			<button type="clear" class="btn btn-danger">Cancel</button>
		</form:form>
	</div>
</body>

</html>
