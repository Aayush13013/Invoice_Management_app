<%@ page language="java" contentType="text/html; charset=ISO-8859-1"
    pageEncoding="ISO-8859-1"%>
    <%@ taglib prefix="form" uri="http://www.springframework.org/tags/form"%>
	<%@ taglib prefix="c" uri="http://java.sun.com/jsp/jstl/core"%>
	
	
	<!DOCTYPE html>
<html>

<head>
    <meta charset="ISO-8859-1">
    <title>Add New Invoice</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/css/bootstrap.min.css" rel="stylesheet"
        integrity="sha384-EVSTQN3/azprG1Anm3QDgpJLIm9Nao0Yz1ztcQTwFspd3yD65VohhpuuCOmLASjC" crossorigin="anonymous">

</head>

<body>
    <script>
        function addRows(id) {
            var table = document.getElementById(id);

            var rowCount = table.rows.length;
            var row = table.insertRow(rowCount);
            var counts = rowCount-1;


            var cell0 = row.insertCell(0);
            cell0.innerHTML = rowCount ;
            // var element0 = document.createElement("input");
            // element0.type = "text";
            // cell0.appendChild(element0);

            var cell1 = row.insertCell(1);
            var element1 = document.createElement("input");
            element1.type = "text";
            element1.path="listOfProducts["+counts+"].productName";
            cell1.appendChild(element1);

            var cell2 = row.insertCell(2);
            var element2 = document.createElement("textarea");
            element2.type = "text";
            element2.path="listOfProducts["+counts+"].description";
            cell2.appendChild(element2);

            var cell3 = row.insertCell(3);
            var element3 = document.createElement("input");
            element3.type = "number";
            element3.path="listOfProducts["+counts+"].price";
            cell3.appendChild(element3);

            var cell4 = row.insertCell(4);
            var element4 = document.createElement("input");
            element4.type = "number";
            element4.path="listOfProducts["+counts+"].qty";
            cell4.appendChild(element4);

            var cell5 = row.insertCell(5);
            var element5 = document.createElement("input");
            element5.type = "number";
            element5.path="listOfProducts["+counts+"].taxPercent";
            cell5.appendChild(element5);

            var cell6 = row.insertCell(6);
            var element6 = document.createElement("input");
            element6.type = "number";
            element6.path="listOfProducts["+counts+"].total";
            cell6.appendChild(element6);
        }
    </script>


    <h2>Add New Invoice</h2><br>
  


    <form:form action="/saveInvoice" modelAttribute="invoiceInfo" method="POST">
        <form:hidden path="id" placeholder="id" class="form-control mb-4 col-4" />

        <form:input type="text" path="invoiceNo" placeholder="invoiceNo" class="form-control mb-4 col-4" />

        <form:input type="text" path="billTo" placeholder="billTo" class="form-control mb-4 col-4" />

        <form:input type="text" path="status" placeholder="status" class="form-control mb-4 col-4" />

        <form:input type="date" path="invoiceDate" placeholder="invoiceDate" class="form-control mb-4 col-4" />

        <form:input type="date" path="dueDate" placeholder="dueDate" class="form-control mb-4 col-4" />

        <table id="myTable" width="350px" border="1">
            <thead>
                <tr>
                    <th>SNo</th>
                    <th>Product</th>
                    <th>Description</th>
                    <th>Price</th>
                    <th>Qty</th>
                    <th>Tax%</th>
                    <th>Total</th>
                </tr>
                <%--  <tr>
                    <th><form:input type="number" path="listOfProducts[0].productId"/></th>
                    <th><form:input type="text" path="listOfProducts[0].productName"/></th>
                    <th><form:textarea path="listOfProducts[0].description"/></th>
                    <th><form:input type="number" path="listOfProducts[0].price"/></th>
                    <th><form:input type="number" path="listOfProducts[0].qty"/></th>
                    <th><form:input type="number" path="listOfProducts[0].taxPercent"/></th>
                    <th><form:input type="number" path="listOfProducts[0].total"/></th>
                </tr>
                <tr>
                	<th><form:input type="text" path="listOfProducts[1].productName"/></th>
                    <th><form:textarea path="listOfProducts[1].description"/></th>
                    <th><form:input type="number" path="listOfProducts[1].price"/></th>
                    <th><form:input type="number" path="listOfProducts[1].qty"/></th>
                    <th><form:input type="number" path="listOfProducts[1].taxPercent"/></th>
                    <th><form:input type="number" path="listOfProducts[1].total"/></th>
                </tr> --%>
            </thead>
            <tbody>

            </tbody>
        </table>
        <input type="button" value="Add row" onclick="addRows('myTable')" />
        <input type="submit" value="save" />
    </form:form>
</body>

</html>
<%-- <!DOCTYPE html>
<html lang="en" >
<head>
    <meta charset="UTF-8">
    <title>Add New Invoice</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/css/bootstrap.min.css"
          rel="stylesheet"
          integrity="sha384-EVSTQN3/azprG1Anm3QDgpJLIm9Nao0Yz1ztcQTwFspd3yD65VohhpuuCOmLASjC"
          crossorigin="anonymous">
   
</head>
<body>
<div class="container">
    <h2>Add New Invoice</h2><br>
    
    <form:form  action="/saveInvoice" modelAttribute="invoiceInfo" method="POST">

        <form:hidden  path="id"
               placeholder="id" class="form-control mb-4 col-4"/>

        <form:input type="text" path="invoiceNo"
               placeholder="invoiceNo" class="form-control mb-4 col-4"/>

        <form:input type="text" path="billTo"
               placeholder="billTo" class="form-control mb-4 col-4"/>

        <form:input type="text" path="status"
               placeholder="status" class="form-control mb-4 col-4"/>

        <form:input type="date" path="invoiceDate"
               placeholder="invoiceDate" class="form-control mb-4 col-4"/>

        <form:input type="date" path="dueDate"
               placeholder="dueDate" class="form-control mb-4 col-4"/>
        <div>
        	<button type="submit" name="addRow" onclick="addRow('dataTable');">Add row</button>
           
            <table id="dataTable" border="1" class="table table-striped table-responsive-md">
                <thead>
                <tr>
                    <th>SNo</th>
                    <th>Product</th>
                    <th>Description</th>
                    <th>Price</th>
                    <th>Qty</th>
                    <th>Tax%</th>
                    <th>Total</th>
                    
                </tr>
                </thead>

               <!--  <tbody > -->

                    
                         <!--  <tr>
                        
                        <td >1</td>

                        <td>
                            <input type="text" name="productName" >

                        </td>

                        <td>
                             <textarea class="form-control rounded-0" name="description" id="description" rows="3"
                                       maxlength="500"
                                       placeholder="Description"
                                        ></textarea>
                        </td>

                        <td>
                            <input type="number" name="price" id="price" class="form-control" placeholder="Price">
                        </td>

                        <td>
                            <input type="number" name="qty" class="form-control" id="qty" placeholder="Qty">
                        </td>

                        <td>
                            <input type="number" name="taxPercent" class="form-control" id="taxPercent" placeholder="Tax(%)">
                        </td>

                        <td>
                            <input type="number" name="total" class="form-control" id="total" placeholder="Total">
                        </td>
                        <td>
                            <button type="submit" name="removeRow"  >Remove row</button>
                        </td>
                       

                    </tr>
 -->
                <!-- </tbody> -->

            </table>
        </div>

        <button type="submit" class="btn btn-primary">save</button>
    </form:form>

</div>
<script type="text/javascript" src="script.js">
</script>
</body>
</html> --%>